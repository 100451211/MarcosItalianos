<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producto - AURIDAL S.L.</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="../images/favicon.webp">
</head>
<body>
    <header>
        <nav class="top-menu">
            <div class="menu-icon" id="menuIcon">
                <!-- SVG for the Menu Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="menuSvg">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </div>
            <a href="../index.html">
                <div class="logo">AURIDAL S.L.</div> 
            </a>
            <div class="menu-container">
                <ul class="menu">
                    <li><a href="../index.html">Inicio</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropbtn" role="link" tabindex="0" aria-expanded="false" aria-haspopup="true">
                            Nuestra empresa
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                <path fill="black" d="M7 10l5 5 5-5z"/>
                            </svg>
                        </a>
                        <div class="dropdown-content">
                            <a href="../nuestraEmpresa/queOfrecemos.html">¿Qué ofrecemos?</a>
                            <a href="../nuestraEmpresa/quienesSomos.html">¿Quiénes somos?</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropbtn" role="link" tabindex="0" aria-expanded="false" aria-haspopup="true">
                            Producto
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                <path fill="black" d="M7 10l5 5 5-5z"/>
                            </svg>
                        </a>
                        <div class="dropdown-content">
                            <a href="colores.html">Colores</a>
                            <a href="clasico.html">Clásico</a>
                            <a href="natural.html">Natural</a>
                            <a href="moderno.html">Moderno</a>
                        </div>
                    </li>
                    <li><a href="../pie/contacto.html">Contacto</a></li>
                </ul>
                <div class="search-container">
                    <input type="text" placeholder="Search..." id="searchInput" class="hidden">
                    <button id="searchButton">
                        <!-- Inline SVG for the search icon -->
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Side Navigation Menu for Mobile (hidden by default) -->
    <div id="sideMenu" class="side-menu">
        <div class="side-menu-header">
            <div class="logo">AURIDAL S.L.</div>
            <a href="#" class="closebtn" id="closeBtn">&times;</a>
        </div>
        <ul><a href="../index.html">Inicio</a></ul>
        <ul class="dropdown">
            <a href="#" class="dropbtn" role="link" tabindex="0" aria-expanded="false" aria-haspopup="true">
                Nuestra empresa
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="white" d="M7 10l5 5 5-5z"/>
                </svg>
            </a>
            <div class="dropdown-content">
                <a href="../nuestraEmpresa/queOfrecemos.html">¿Qué ofrecemos?</a>
                <a href="../nuestraEmpresa/quienesSomos.html">¿Quiénes somos?</a>
            </div>
        </ul>
        <ul class="dropdown">
            <a href="#" class="dropbtn" role="link" tabindex="0" aria-expanded="false" aria-haspopup="true">
                Producto
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="white" d="M7 10l5 5 5-5z"/>
                </svg>
            </a>
            <div class="dropdown-content">
                <a href="colores.html">Colores</a>
                <a href="clasico.html">Clásico</a>
                <a href="natural.html">Natural</a>
                <a href="moderno.html">Moderno</a>
            </div>
        </ul>
        <ul><a href="../pie/contacto.html">Contacto</a></ul>
    </div>

    <div class="product-details">
        <h1 class="product-name"></h1>
        <div class="product-gallery">
            <!-- This will be populated with images dynamically -->
        </div>
        <p class="product-description"></p>
        <p class="product-price"></p>
        <!-- Other product details -->
    </div>

    <!-- Fullscreen overlay -->
    <div id="fullscreen-overlay">
        <button id="exit-fullscreen">✕</button>
        <img id="fullscreen-image" src="" alt="Fullscreen Product Image">
        <div class="fullscreen-controls">
            <button id="prev-image">❮</button>
            <button id="next-image">❯</button>
        </div>
    </div>


    <script src="../js/main.js"></script>

    <script>
        let images = []; // This will hold references to product images
        let currentFullscreenIndex = 0;
    
        // Fetch product details and render gallery
        document.addEventListener('DOMContentLoaded', function() {
            console.log("EventListener on details.html");
            const urlParams = new URLSearchParams(window.location.search);
            console.log("urlParms:", urlParams);
            const productId = urlParams.get('productId');
            
            // Fetch product details from JSON file (adjust path if necessary)
            fetch('/data/moderno.json')
                .then(response => response.json())
                .then(data => {
                    console.log("Data: item-");
                    const product = data.find(item => item.id === productId);
                    if (product) {
                        document.querySelector('.product-name').textContent = product.name;
                        document.querySelector('.product-description').textContent = product.description;
                        document.querySelector('.product-price').textContent = product.price.madrid;
    
                        // Populate product gallery
                        const galleryContainer = document.querySelector('.product-gallery');
                        product.images.forEach((imageSrc, index) => {
                            const imgElement = document.createElement('img');
                            imgElement.src = imageSrc;
                            imgElement.dataset.index = index;  // Store index for fullscreen navigation
                            imgElement.style.cursor = 'pointer';
                            imgElement.style.width = '100px'; // Set thumbnail size
                            imgElement.addEventListener('click', () => enterFullScreen(imgElement));
                            galleryContainer.appendChild(imgElement);
                        });
    
                        // Save references to images for fullscreen navigation
                        images = product.images.map((src, index) => ({
                            src,
                            index
                        }));
                    }
                });
        });
    
        // Enter full-screen mode and display the clicked image
        function enterFullScreen(image) {
            currentFullscreenIndex = parseInt(image.dataset.index, 10); // Get the current image index
            const fullscreenImage = document.getElementById('fullscreen-image');
            fullscreenImage.src = image.src; // Set the full-screen image source
    
            const fullscreenOverlay = document.getElementById('fullscreen-overlay');
            fullscreenOverlay.style.display = 'flex'; // Show the full-screen overlay
        }
    
        // Navigate through the full-screen images
        function navigateFullscreen(direction) {
            if (direction === 'next') {
                currentFullscreenIndex = (currentFullscreenIndex + 1) % images.length;
            } else if (direction === 'prev') {
                currentFullscreenIndex = (currentFullscreenIndex - 1 + images.length) % images.length;
            }
            const fullscreenImage = document.getElementById('fullscreen-image');
            fullscreenImage.src = images[currentFullscreenIndex].src; // Update the image in full screen
        }
    
        // Exit full-screen mode
        function exitFullScreen() {
            const fullscreenOverlay = document.getElementById('fullscreen-overlay');
            fullscreenOverlay.style.display = 'none'; // Hide the full-screen overlay
        }
    
        // Add event listeners for full-screen controls
        document.getElementById('next-image').addEventListener('click', () => navigateFullscreen('next'));
        document.getElementById('prev-image').addEventListener('click', () => navigateFullscreen('prev'));
        document.getElementById('exit-fullscreen').addEventListener('click', exitFullScreen);
    
    </script>

    <footer class="site-footer">
        <div class="footer-content">
            <p>© 2024 AURIDAL S.L. | Todos los derechos reservados</p>
            <ul class="footer-menu">
                <li><a href="../pie/privacidad.html">Política de privacidad</a></li>
                <li><a href="../pie/servicio.html">Términos de servicio</a></li>
                <li><a href="../pie/contacto.html">Contacto</a></li>
            </ul>
        </div>
    </footer>

    <!-- Pantalla completa, vista de productos-->
    <div id="fullscreen-overlay" class="fullscreen-overlay">
        <div class="fullscreen-content">
            <img id="fullscreen-image" src="" alt="Product Image">
            <button class="fullscreen-prev" onclick="navigateFullscreen('prev')">❮</button>
            <button class="fullscreen-next" onclick="navigateFullscreen('next')">❯</button>
            <button class="fullscreen-close" onclick="exitFullScreen()">✖</button>
        </div>
    </div>
</body>
</html>
